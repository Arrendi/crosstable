---
    output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r setup, include=FALSE}
knitr::opts_chunk$set(
    collapse=TRUE,
    comment="#>",
    fig.path="man/figures/README-",
    out.width="100%"
)
# options(Encoding="UTF-8")
library(officer)
library(flextable)
library(dplyr)
```



# crosstable
<!-- badges: start -->
[![CRAN status](https://www.r-pkg.org/badges/version/crosstable)](https://CRAN.R-project.org/package=crosstable)
[![Lifecycle: maturing](https://img.shields.io/badge/lifecycle-maturing-blue.svg)](https://www.tidyverse.org/lifecycle/#maturing)
[![Codecov test coverage](https://codecov.io/gh/DanChaltiel/crosstable/branch/master/graph/badge.svg)](https://codecov.io/gh/DanChaltiel/crosstable?branch=master)
<!-- badges: end -->

Crosstable is a package centered on a single function, `crosstable`, which easily computes descriptive statistics on datasets. It is using the `tidyverse` syntax and is interfaced with the package `officer` to create automatized reports.

## Installation

```{r install, eval=FALSE}
install.packages("devtools")
devtools::install_github("DanChaltiel/biostat2")
```

## Usage

```{r usage, echo=TRUE, warning=FALSE}
library(crosstable)

#whole table
crosstable(iris)

#tidyselection, custom functions
library(tidyverse)
crosstable(mtcars2, ends_with("t"), starts_with("c"), by=vs, 
           funs=c(mean, quantile), funs_arg = list(probs=c(.25,.75)))

#margin and totals
crosstable(mtcars2, disp, vs, by=am, 
           margin=c("row", "col"), total = "both")

#predicate selection, correlation, testing
crosstable(mtcars2, is.numeric, by=hp, test=TRUE)

#lambda selection, effect calculation
crosstable(mtcars2, ~is.numeric(.x) && mean(.x)>50, by=vs, effect=TRUE)


#Survival data (using formula UI)
library(survival)
crosstable(aml, Surv(time, status) ~ x,times=c(0,15,30,150), followup=TRUE)

```


## Getting help

You can use the vignettes: 
 + `vignette("crosstable")` for global use and parameterization  
 + `vignette("crosstable-selection")` for variable selection 
 + `vignette("crosstable-report")` for reporting with `officer` or `Rmarkdown`




## Acknowledgement

`crosstable` is a rewrite of the awesome [`biostat2` package](https://github.com/eusebe/biostat2) written by David Hajage. The user interface is quite different but the concept is the same.

Thanks David!
